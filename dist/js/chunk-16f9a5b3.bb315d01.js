(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-16f9a5b3"],{"21b4":function(e,i,a){},"96de":function(e,i,a){"use strict";a.r(i);var t=function(){var e=this,i=e.$createElement,a=e._self._c||i;return a("div",{attrs:{id:"signOut"}},[e._m(0),a("main",[a("ul",[a("li",[a("van-field",{attrs:{readonly:"","input-align":"right",label:"地点:",placeholder:""},model:{value:e.main.roomName,callback:function(i){e.$set(e.main,"roomName",i)},expression:"main.roomName"}})],1),a("li",[a("van-field",{attrs:{readonly:"","input-align":"right",label:"开始时间："},model:{value:e.main.startTime,callback:function(i){e.$set(e.main,"startTime",i)},expression:"main.startTime"}})],1),a("li",[a("van-field",{attrs:{readonly:"","input-align":"right",label:"结束时间："},model:{value:e.main.endTime,callback:function(i){e.$set(e.main,"endTime",i)},expression:"main.endTime"}})],1),a("li",[a("van-field",{attrs:{readonly:"","input-align":"right",label:"联系人："},model:{value:e.main.linkman,callback:function(i){e.$set(e.main,"linkman",i)},expression:"main.linkman"}})],1),a("li",[a("van-field",{attrs:{rows:"2",autosize:"",type:"textarea",maxlength:"50",readonly:"",placeholder:"","show-word-limit":""},model:{value:e.main.remark,callback:function(i){e.$set(e.main,"remark",i)},expression:"main.remark"}})],1)])]),a("footer",[a("van-form",[a("ul",[a("li",[a("van-field",{attrs:{"label-align":"right",rules:[{required:!0}],required:"",name:"validator",label:"姓名:",placeholder:"请输入姓名"},model:{value:e.form.name,callback:function(i){e.$set(e.form,"name",i)},expression:"form.name"}})],1),a("li",[a("van-field",{attrs:{"label-align":"right",required:"",maxlength:"11",rules:[{required:!0}],label:"手机号:",placeholder:"请输入手机号"},on:{blur:e.validate},model:{value:e.form.phone,callback:function(i){e.$set(e.form,"phone",i)},expression:"form.phone"}})],1),a("li",[a("van-field",{attrs:{"label-align":"right",required:"","is-link":"",rules:[{required:!0}],label:"单位名称:",placeholder:"请选择单位名称"},on:{focus:function(i){e.showChoice=!0}},model:{value:e.choicePlace,callback:function(i){e.choicePlace=i},expression:"choicePlace"}}),a("van-popup",{ref:"aaa",attrs:{closeable:!0,"close-icon-position":"bottom-right",position:"bottom"},on:{"click-close-icon":e.closeIcon},model:{value:e.showChoice,callback:function(i){e.showChoice=i},expression:"showChoice"}},[a("div",{staticClass:"popup"},[a("ul",{staticClass:"tab"},[a("li",{on:{click:function(i){return e.checkClick(1)}}},[a("h6",{class:1===e.typeIndex?"activeH6":""},[e._v("企业信息")])]),a("li",{on:{click:function(i){return e.checkClick(2)}}},[a("h6",{class:2===e.typeIndex?"activeH6":""},[e._v("其他")])])]),a("tree",{directives:[{name:"show",rawName:"v-show",value:1===e.typeIndex,expression:"typeIndex === 1"}],ref:"tree",attrs:{treeData:e.treeData,showClose:e.showChoice},on:{clickTreeNode:e.clickTreeNode}}),a("div",{staticClass:"other"},[a("div",{directives:[{name:"show",rawName:"v-show",value:2===e.typeIndex,expression:"typeIndex === 2"}],staticClass:"seach"},[a("van-field",{attrs:{clearable:!0,"clear-trigger":"always",placeholder:"请输入企业名称"},model:{value:e.form.unitName,callback:function(i){e.$set(e.form,"unitName",i)},expression:"form.unitName"}}),a("span",{staticClass:"seachBtn",attrs:{type:"info"},on:{click:e.clickAddSure}},[e._v("确定")])],1)])],1)])],1),a("li",[a("van-field",{attrs:{"label-align":"right",readonly:"",label:"签到时间:"},model:{value:e.form.time1,callback:function(i){e.$set(e.form,"time1",i)},expression:"form.time1"}})],1),a("li",[a("van-field",{attrs:{"label-align":"right",readonly:"",label:"签离时间:"},model:{value:e.form.time2,callback:function(i){e.$set(e.form,"time2",i)},expression:"form.time2"}})],1)]),a("div",{staticClass:"btn"},[a("van-button",{attrs:{round:"",block:"",type:"info"},on:{click:e.submit}},[e._v("提交")])],1)])],1),a("van-overlay",{attrs:{show:e.show}},[a("div",{staticClass:"wrapper",on:{click:function(e){e.stopPropagation()}}},[a("div",{staticClass:"block"})])]),a("van-dialog",{attrs:{width:"210px",title:"标题",message:e.msg,"show-confirm-button":!1,"show-cancel-button":!1},model:{value:e.dialogShow,callback:function(i){e.dialogShow=i},expression:"dialogShow"}})],1)},n=[function(){var e=this,i=e.$createElement,a=e._self._c||i;return a("header",[a("h3",[e._v("智慧园区平台使用培训会")])])}],o=a("5530"),l=(a("0d03"),a("99af"),a("b0c0"),a("ac1f"),a("00b4"),a("4795"),a("c1df")),r=a.n(l),s=a("8404"),c={name:"signOut",components:{tree:s["a"]},created:function(){},mounted:function(){document.title="会议签退"},data:function(){return{typeIndex:1,treeData:[{id:1,orgName:"品牌一",children:[{id:4,orgName:"华东区域",children:[{id:9,orgName:"上海"},{id:10,orgName:"昆山",children:[{id:4,orgName:"华东区域",children:[{id:9,orgName:"上海"},{id:10,orgName:"昆山"}]}]}]}]},{id:2,orgName:"品牌二",children:[{id:5,orgName:"华东区域"},{id:6,orgName:"华南区域"}]},{id:3,orgName:"品牌三",children:[{id:7,orgName:"华北区域"},{id:8,orgName:"华南区域",children:[{id:7,orgName:"华北区域"},{id:8,orgName:"华南区域"}]}]}],firmList:[],defaultProps:null,selectOrg:{orgsid:[]},main:{id:"",roomName:"",startTime:"",endTime:"",linkman:"",remark:""},partmentId:"",form:{name:"",errorName:"",phone:"",time1:"",time2:r()(new Date).format("YYYY-MM-DD HH:mm:ss")},choicePlace:"",showChoice:!1,show:!1,dialogShow:!1,msg:""}},watch:{},methods:{getDate:function(){var e=this;this.$axios.post("meet/meetSign/info/".concat(this.$route.params.id)).then((function(i){if(0===i.data.code){var a=i.data.data;if(null==a)return;e.main=a,e.main.linkman="".concat(a.linkMan,"  ").concat(a.linkTel)}}))},getGarden:function(){var e=this,i={govFlag:0};this.$axios.post("meet/meeting/getGovTree",i).then((function(i){var a=i.data.data;e.treeData=a}))},getFirm:function(){var e=this,i={name:""};this.$axios.post("meet/meeting/getEntTree",i).then((function(i){var a=i.data.data;e.firmList=a}))},changeTab:function(e){this.currentIndex=e},onSeach:function(){this.currentIndex=this.getFirm()},clickTreeNode:function(e){2!==this.typeIndex&&(this.choicePlace=e.orgName,this.partmentId=e.id,this.showChoice=!1)},clickCompany:function(e){console.log(e),this.choicePlace=e.orgName},closeIcon:function(){document.querySelector(".van-popup").scrollTop=0},clickAddSure:function(){this.partmentId=-1,this.choicePlace=this.form.unitName,this.showChoice=!1},checkClick:function(e){this.typeIndex=e,1!=e&&this.$refs.tree.treeNodeClick(Object(o["a"])(Object(o["a"])({},this.partmentId),this.choicePlace))},submit:function(){var e=this;if(this.form.name&&this.form.phone){var i=/^[1][3-9][\d]{9}/;if(i.test(this.form.phone)){if(this.choicePlace){var a={meetId:this.main.id,name:this.form.name,phone:this.form.phone,unitName:this.form.unitName,sealFixedOrgId:this.partmentId,leaveTime:this.form.time2};this.$axios.post("meet/meetSign/signOut",a).then((function(i){console.log(i),0===i.data.code?e.$toast.success("签离成功"):500===i.data.code&&(e.msg=i.data.msg,e.dialogShow=!0,setTimeout((function(){e.dialogShow=!1}),2e3))}))}}else this.$toast.fail("请输入正确的手机号")}},validate:function(){var e=this,i={meetId:this.main.id,name:this.form.name,phone:this.form.phone};this.form.phone&&this.$axios.post("meet/meetSign/getList",i).then((function(i){var a=i.data.data;e.form.time1=a.signinTime,"-1"===a.sealFixedOrgId?e.choicePlace=a.unitName:e.choicePlace=a.orgName,e.partmentId=a.sealFixedOrgId}))}}},m=c,d=(a("a80b"),a("2877")),h=Object(d["a"])(m,t,n,!1,null,null,null);i["default"]=h.exports},a80b:function(e,i,a){"use strict";a("21b4")}}]);
//# sourceMappingURL=chunk-16f9a5b3.bb315d01.js.map