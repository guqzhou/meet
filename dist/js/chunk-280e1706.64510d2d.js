(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-280e1706"],{"48de":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"signIn"}},[e._m(0),i("main",[i("ul",[i("li",[i("van-field",{attrs:{readonly:"","input-align":"right",label:"地点:",placeholder:""},model:{value:e.main.roomName,callback:function(t){e.$set(e.main,"roomName",t)},expression:"main.roomName"}})],1),i("li",[i("van-field",{attrs:{readonly:"","input-align":"right",label:"开始时间："},model:{value:e.main.startTime,callback:function(t){e.$set(e.main,"startTime",t)},expression:"main.startTime"}})],1),i("li",[i("van-field",{attrs:{readonly:"","input-align":"right",label:"结束时间："},model:{value:e.main.endTime,callback:function(t){e.$set(e.main,"endTime",t)},expression:"main.endTime"}})],1),i("li",[i("van-field",{attrs:{readonly:"","input-align":"right",label:"联系人："},model:{value:e.main.linkman,callback:function(t){e.$set(e.main,"linkman",t)},expression:"main.linkman"}})],1),i("li",[i("van-field",{attrs:{rows:"2",autosize:"",readonly:"",type:"textarea",maxlength:"50",placeholder:"","show-word-limit":""},model:{value:e.main.remark,callback:function(t){e.$set(e.main,"remark",t)},expression:"main.remark"}})],1)])]),i("footer",[i("van-form",[i("ul",[i("li",[i("van-field",{attrs:{"label-align":"right",rules:[{required:!0}],required:"",name:"validator",label:"姓名:",placeholder:"请输入姓名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),i("li",[i("van-field",{attrs:{"label-align":"right",required:"",maxlength:"11",rules:[{required:!0}],label:"手机号:",placeholder:"请输入手机号"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),i("li",[i("van-field",{attrs:{"label-align":"right",required:"","is-link":"",rules:[{required:!0}],label:"单位名称:",placeholder:"请选择单位名称"},on:{focus:function(t){e.showChoice=!0}},model:{value:e.choicePlace,callback:function(t){e.choicePlace=t},expression:"choicePlace"}}),i("van-popup",{attrs:{closeable:!0,"close-icon-position":"bottom-right",position:"bottom"},on:{"click-close-icon":e.closeIcon},model:{value:e.showChoice,callback:function(t){e.showChoice=t},expression:"showChoice"}},[i("div",{staticClass:"popup"},[i("ul",{staticClass:"tab"},[i("li",{on:{click:function(t){return e.checkClick(1)}}},[i("h6",{class:1===e.typeIndex?"activeH6":""},[e._v("企业信息")])]),i("li",{on:{click:function(t){return e.checkClick(2)}}},[i("h6",{class:2===e.typeIndex?"activeH6":""},[e._v("其他")])])]),i("tree",{directives:[{name:"show",rawName:"v-show",value:1===e.typeIndex,expression:"typeIndex === 1"}],ref:"tree",attrs:{treeData:e.treeData,showClose:e.showChoice},on:{clickTreeNode:e.clickTreeNode}}),i("div",{staticClass:"other"},[i("div",{directives:[{name:"show",rawName:"v-show",value:2===e.typeIndex,expression:"typeIndex === 2"}],staticClass:"seach"},[i("van-field",{attrs:{clearable:!0,"clear-trigger":"always",placeholder:"请输入企业名称"},model:{value:e.form.unitName,callback:function(t){e.$set(e.form,"unitName",t)},expression:"form.unitName"}}),i("span",{staticClass:"seachBtn",attrs:{type:"info"},on:{click:e.clickAddSure}},[e._v("确定")])],1)])],1)])],1),i("li",[i("van-field",{attrs:{"label-align":"right",readonly:"",label:"签到时间:"},model:{value:e.form.time1,callback:function(t){e.$set(e.form,"time1",t)},expression:"form.time1"}})],1)]),i("div",{staticClass:"btn"},[i("van-button",{attrs:{round:"",block:"",type:"info"},on:{click:e.submit}},[e._v("提交")])],1)])],1),i("van-overlay",{attrs:{show:e.show}},[i("div",{staticClass:"wrapper",on:{click:function(e){e.stopPropagation()}}},[i("div",{staticClass:"block"})])]),i("van-dialog",{attrs:{title:"标题",message:e.msg,"show-confirm-button":!1,"show-cancel-button":!1},model:{value:e.dialogShow,callback:function(t){e.dialogShow=t},expression:"dialogShow"}})],1)},n=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("header",[i("h3",[e._v("智慧园区平台使用培训会")])])}],o=i("5530"),l=(i("0d03"),i("99af"),i("b0c0"),i("ac1f"),i("00b4"),i("4795"),i("c1df")),s=i.n(l),r=i("8404"),c={name:"signIn",components:{tree:r["a"]},created:function(){this.getDate(),this.getGarden(),this.getFirm()},mounted:function(){document.title="会议签到"},data:function(){return{treeData:[{id:1,orgName:"品牌一",children:[{id:4,orgName:"华东区域",children:[{id:9,orgName:"上海"},{id:10,orgName:"昆山"}]}]},{id:2,orgName:"品牌二",children:[{id:5,orgName:"华东区域"},{id:6,orgName:"华南区域"}]},{id:3,orgName:"品牌三",children:[{id:7,orgName:"华北区域"},{id:8,orgName:"华南区域",children:[{id:7,orgName:"华北区域"},{id:8,orgName:"华南区域"}]}]}],typeIndex:1,firmList:[],defaultProps:null,selectOrg:{orgsid:[]},main:{id:"",roomName:"",startTime:"",endTime:"",linkman:"",remark:""},partmentId:"",form:{name:"",errorName:"",phone:"",unitName:"",time1:s()(new Date).format("YYYY年MM月DD日 HH:mm:ss"),time2:s()(new Date).format("YYYY-MM-DD HH:mm:ss")},tabList:[{id:1,title:"园区管委会"},{id:2,title:"企业"}],choicePlace:"",showChoice:!1,show:!1,currentIndex:0,dialogShow:!1,msg:""}},methods:{getDate:function(){var e=this;this.$axios.post("meet/meetSign/info/".concat(this.$route.params.id)).then((function(t){if(0===t.data.code){var i=t.data.data;if(null==i)return;e.main=i,e.main.linkman="".concat(i.linkMan,"  ").concat(i.linkTel)}}))},getGarden:function(){var e=this,t={govFlag:0};this.$axios.post("meet/meeting/getGovTree",t).then((function(t){var i=t.data.data;e.treeData=i}))},getFirm:function(){var e=this,t={name:""};this.$axios.post("meet/meeting/getEntTree",t).then((function(t){var i=t.data.data;e.firmList=i}))},changeTab:function(e){this.currentIndex=e},onSeach:function(){this.currentIndex=this.getFirm()},clickTreeNode:function(e){2!==this.typeIndex&&(this.choicePlace=e.orgName,this.partmentId=e.id,this.showChoice=!1)},clickCompany:function(e){console.log(e),this.choicePlace=e.orgName},closeIcon:function(){document.querySelector(".van-popup").scrollTop=0},clickAddSure:function(){this.partmentId=-1,this.choicePlace=this.form.unitName,this.showChoice=!1},checkClick:function(e){this.typeIndex=e,1!=e&&this.$refs.tree.treeNodeClick(Object(o["a"])(Object(o["a"])({},this.partmentId),this.choicePlace))},submit:function(){var e=this;if(this.form.name&&this.form.phone){var t=/^[1][3-9][\d]{9}/;if(t.test(this.form.phone)){if(this.choicePlace)if(s()(new Date).valueOf()>s()(this.main.endTime).valueOf())this.$toast.fail("会议已结束");else{var i={meetId:this.main.id,name:this.form.name,phone:this.form.phone,sealFixedOrgId:this.partmentId,signinTime:this.form.time2,unitName:this.form.unitName};this.$axios.post("meet/meetSign/signIn",i).then((function(t){console.log(t),0===t.data.code?e.$toast.success("签到成功"):500===t.data.code&&(e.msg=t.data.msg,e.dialogShow=!0,setTimeout((function(){e.dialogShow=!1}),2e3))}))}}else this.$toast.fail("请输入正确的手机号")}}}},m=c,d=(i("f0b0"),i("2877")),h=Object(d["a"])(m,a,n,!1,null,null,null);t["default"]=h.exports},54888:function(e,t,i){},f0b0:function(e,t,i){"use strict";i("54888")}}]);
//# sourceMappingURL=chunk-280e1706.64510d2d.js.map